var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(n,t,o)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,r=(e,n)=>{for(var t in n||(n={}))i.call(n,t)&&l(e,t,n[t]);if(o)for(var t of o(n))a.call(n,t)&&l(e,t,n[t]);return e},c=(e,o)=>n(e,t(o));import{a as d,s,l as u,d as p,N as f}from"./vendor.16cd040e.js";function m(e){const n=n=>e.onActive&&e.onActive(n);function t(e){e.preventDefault(),e.stopPropagation()}return e.render({onDragEnter:function(e){n(!0),t(e)},onDragOver:t,onDragLeave:function(e){n(!1),t(e)},onDrop:function(o){var i,a;n(!1),t(o);const l=null!=(a=null==(i=o.dataTransfer)?void 0:i.files)?a:[],r=l[0];var c;r&&e.accept&&!e.accept.includes(r.type)?e.onInvalid&&e.onInvalid(r):(c=l[0],e.onSelect(c))}})}function v(e){return d("button",c(r({},e),{class:`Button ${e.class||""}`}))}function w(e){const n=e.accept&&e.accept.join(", ")||"*.*",t=s(null),[o,i]=u({});return d("form",{onSubmit:e=>e.preventDefault(),style:"display: inline-block"},d(v,{class:"FileInputButton",onClick:function(e){e.preventDefault(),t.current.click()},"data-test-id":"FileInputButton_BrowseButton"},"Browse..."),d("input",{ref:t,id:"FileInputButton__input",style:"height: 0; opacity: 0; position: absolute; pointer-events: none;",onChange:n=>function(n){n.preventDefault(),i(!0);const o=(t.current.files||[])[0];if(o){if(e.accept&&!e.accept.includes(o.type))return void(e.onInvalid&&e.onInvalid(o));e.onSelectFile(o)}}(n),type:"file","data-test-id":"FileInputButton_input","data-test":o&&"clicked",multiple:!1,accept:n}))}function g(e){const[n,t]=u(!1),o=n=>e.onSelect(n);return d(m,{accept:e.accept,onSelect:e.onSelect,onInvalid:e.onInvalid,onActive:t,render:t=>d("div",{class:"FileDropArea","data-test-id":"FileDropArea"},d("div",r({"data-test-id":"FileDropArea_target",class:"FileDropArea__target "+(n?"FileDropArea__target__over":"")},t)),d("div",{class:"FileDropArea__buttons"},d(w,{onSelectFile:o,onInvalid:e.onInvalid,accept:e.accept}),e.children))})}function _(e){return d(v,{class:"CancelButton",title:"Cancel",onClick:e.onClick,"data-test-id":"FileUploadForm_cancelButton"},"Ã—")}function I(e){return d("div",{class:"ImageInfo","data-test-id":"ImageInfo"},d("div",{"data-test-id":"ImageInfo_filename"},"File: ",e.name," "),d("div",{"data-test-id":"ImageInfo_size"},"Size: ",function(e){const n=e/1024;return Math.round(n).toLocaleString()}(e.size)," KB"," "),d("div",{"data-test-id":"ImageInfo_modified"},"Modified: ",(n=e.modified,new Date(n).toLocaleString())),e.dimensions&&d("div",{"data-test-id":"ImageInfo_dimensions"},"Dimensions: ",e.dimensions.width," x ",e.dimensions.height));var n}function h(e){const n=p((()=>e.file&&URL.createObjectURL(e.file)),[e.file]);return d("div",{class:"ImagePreview","data-test-id":"ImagePreview"},d("img",{onLoad:function(n){const t=n.target;e.onLoad({width:t.clientWidth,height:t.clientHeight})},class:"ImagePreview__img",src:n}))}function b(e){return d("form",{class:"FileUploadForm"},d("div",{class:"FileUploadForm__buttonContainer"},d(v,{class:"FileUploadForm__submitButton",type:"submit",onClick:function(n){n.preventDefault(),e.onConfirm()},"data-test-id":"FileUploadForm_submitButton"},"Upload")))}function y(e){const n=e,{onConfirm:t,onCancel:l,file:c}=n,s=((e,n)=>{var t={};for(var l in e)i.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&o)for(var l of o(e))n.indexOf(l)<0&&a.call(e,l)&&(t[l]=e[l]);return t})(n,["onConfirm","onCancel","file"]),[p,f]=u(null);return d("div",r({class:"ImageUploadConfirm__container"},s),d(_,{onClick:()=>l()}),d("div",{class:"ImageUploadConfirm__controls"},d(I,{name:c.name,size:c.size,dimensions:p||void 0,modified:c.lastModified}),d(b,r({},{onConfirm:t}))),d(h,{file:c,onLoad:f}))}function F(){const[e,n]=u(null),t=()=>null!=window._handleUpload&&null!=e?window._handleUpload(e):window.alert(`Unable to upload ${null==e?void 0:e.name} to vault`),o=["image/png","image/jpeg"],i=()=>window._handleInvalidType?window._handleInvalidType("Only PNG and JPEG images are allowed!"):window.alert("Invalid file. Only PNG and JPEG images are allowed!");return null!=e?d(m,{accept:o,onSelect:n,onInvalid:i,render:o=>d(y,c(r({},o),{file:e,onConfirm:t,onCancel:()=>n(null)}))}):d(g,{accept:o,onSelect:e=>n(e),onInvalid:i},d(v,{"data-test-id":"SearchButton",onClick:()=>window._handleSearch?window._handleSearch():window.alert("Unable to show search dialog")},"Search Existing..."))}!function(e=".",n="__import__"){try{self[n]=new Function("u","return import(u)")}catch(t){const o=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[n]=e=>new Promise(((t,a)=>{const l=new URL(e,o);if(self[n].moduleMap[l])return t(self[n].moduleMap[l]);const r=new Blob([`import * as m from '${l}';`,`${n}.moduleMap['${l}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){a(new Error(`Failed to import: ${e}`)),i(c)},onload(){t(self[n].moduleMap[l]),i(c)}});document.head.appendChild(c)})),self[n].moduleMap={}}}("assets/");if(window.arasArgs){const e=window.arasArgs;window._handleInvalidType=n=>{e.errorMessage(n)},window._handleSearch=()=>{e.dialog.close(),e.search()},window._handleUpload=n=>{const t=e.upload(n);t&&!t.error?e.dialog.close():console.warn("error result from aras:",t)}}else console.warn("Global arasArgs not found. Running outside innovator dialog?");f(d(F,null),document.getElementById("app"));

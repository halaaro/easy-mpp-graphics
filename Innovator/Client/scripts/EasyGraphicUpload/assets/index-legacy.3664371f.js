var _excluded=["onConfirm","onCancel","file"];function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var o,r,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(d){l=!0,r=d}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var __vite_style__=document.createElement("style");__vite_style__.innerHTML="body,html{height:100%;width:100%;padding:0;margin:0;background:#fafafa;font-family:'Helvetica Neue',arial,sans-serif;font-weight:400;color:#444;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:16px}*{box-sizing:border-box}#app{height:100vh;text-align:center;font-size:1.2rem}.FileDropArea{height:100%;width:100%;position:relative;z-index:1;overflow:hidden}.FileDropArea::before{content:'Click browse... or drag and drop image here.';position:absolute;text-align:center;left:0;top:0;width:100%;height:100%;z-index:-1;display:flex;justify-content:center;align-items:center}.FileDropArea__target{position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1;opacity:.5;outline:#6495ed 3px dashed;outline-offset:-10px;-moz-outline-radius:10px}.FileDropArea__target__over{background:#6495ed}.FileDropArea__buttons{pointer-events:none}.FileDropArea__buttons>*{pointer-events:initial}.Button{font-size:16px;padding:5px 10px;margin:25px 10px;border:1px solid gray;border-radius:2px;font-size:.8rem}.CancelButton{position:fixed;top:20px;right:20px;font-size:20px;margin:0;margin-left:auto;border-radius:3px;border:none;background:#fff;color:#000;padding:.8em;line-height:0;opacity:.5;z-index:10;border:1px solid gray}.CancelButton:hover{background:red;color:#fff;opacity:.9;border:none}.ImageUploadConfirm__container{width:100%;height:100%;display:flex;flex-direction:column;overflow:auto}.ImageUploadConfirm__controls{text-align:left;padding:20px}.ImageInfo{opacity:.5;margin-bottom:20px}.FileUploadForm{margin-bottom:20px}.FileUploadForm__textInput{font-size:1.2rem;border:1px solid gray;border-width:0 0 1px 0;border-radius:.2em;padding:.5em;margin:0;color:#000}.FileUploadForm__label{font-size:.8rem;color:gray;display:block}.FileUploadForm__label+input{margin-bottom:10px;margin-left:-.5em}.FileUploadForm__submitButton{margin:0;margin-left:auto;background:#3869b2;color:#fff}.FileUploadForm__buttonContainer{text-align:right}.ImagePreview{flex-grow:1;border-top:1px solid #d3d3d3;background:hsl(0deg 0% 90%);padding:20px;overflow:auto;text-align:left}.ImagePreview::before{content:'Image Preview';display:block;margin-bottom:5px;opacity:.5}.ImagePreview__img{-webkit-user-drag:none;box-shadow:5px 5px 20px rgba(0,0,0,.3);margin-right:20px}",document.head.appendChild(__vite_style__),System.register(["./vendor-legacy.5c635dcb.js"],(function(){"use strict";var e,t,n,o,r;return{setters:[function(i){e=i.a,t=i.s,n=i.l,o=i.d,r=i.N}],execute:function(){function i(e){var t=function(t){return e.onActive&&e.onActive(t)};function n(e){e.preventDefault(),e.stopPropagation()}return e.render({onDragEnter:function(e){t(!0),n(e)},onDragOver:n,onDragLeave:function(e){t(!1),n(e)},onDrop:function(o){var r,i;t(!1),n(o);var a,l=null!==(r=null===(i=o.dataTransfer)||void 0===i?void 0:i.files)&&void 0!==r?r:[],d=l[0];d&&e.accept&&!e.accept.includes(d.type)?e.onInvalid&&e.onInvalid(d):(a=l[0],e.onSelect(a))}})}function a(t){return e("button",_objectSpread(_objectSpread({},t),{},{class:"Button ".concat(t.class||"")}))}function l(o){var r=o.accept&&o.accept.join(", ")||"*.*",i=t(null),l=_slicedToArray(n({}),2),d=l[0],c=l[1];return e("form",{onSubmit:function(e){return e.preventDefault()},style:"display: inline-block"},e(a,{class:"FileInputButton",onClick:function(e){e.preventDefault(),i.current.click()},"data-test-id":"FileInputButton_BrowseButton"},"Browse..."),e("input",{ref:i,id:"FileInputButton__input",style:"height: 0; opacity: 0; position: absolute; pointer-events: none;",onChange:function(e){return function(e){e.preventDefault(),c(!0);var t=(i.current.files||[])[0];if(t){if(o.accept&&!o.accept.includes(t.type))return void(o.onInvalid&&o.onInvalid(t));o.onSelectFile(t)}}(e)},type:"file","data-test-id":"FileInputButton_input","data-test":d&&"clicked",multiple:!1,accept:r}))}function d(t){var o=_slicedToArray(n(!1),2),r=o[0],a=o[1],d=function(e){return t.onSelect(e)};return e(i,{accept:t.accept,onSelect:t.onSelect,onInvalid:t.onInvalid,onActive:a,render:function(n){return e("div",{class:"FileDropArea","data-test-id":"FileDropArea"},e("div",_objectSpread({"data-test-id":"FileDropArea_target",class:"FileDropArea__target ".concat(r?"FileDropArea__target__over":"")},n)),e("div",{class:"FileDropArea__buttons"},e(l,{onSelectFile:d,onInvalid:t.onInvalid,accept:t.accept}),t.children))}})}function c(t){return e(a,{class:"CancelButton",title:"Cancel",onClick:t.onClick,"data-test-id":"FileUploadForm_cancelButton"},"Ã—")}function u(t){return e("div",{class:"ImageInfo","data-test-id":"ImageInfo"},e("div",{"data-test-id":"ImageInfo_filename"},"File: ",t.name," "),e("div",{"data-test-id":"ImageInfo_size"},"Size: ",(o=t.size,r=o/1024,Math.round(r).toLocaleString())," KB"," "),e("div",{"data-test-id":"ImageInfo_modified"},"Modified: ",(n=t.modified,new Date(n).toLocaleString())),t.dimensions&&e("div",{"data-test-id":"ImageInfo_dimensions"},"Dimensions: ",t.dimensions.width," x ",t.dimensions.height));var n,o,r}function s(t){var n=o((function(){return t.file&&URL.createObjectURL(t.file)}),[t.file]);return e("div",{class:"ImagePreview","data-test-id":"ImagePreview"},e("img",{onLoad:function(e){var n=e.target;t.onLoad({width:n.clientWidth,height:n.clientHeight})},class:"ImagePreview__img",src:n}))}function p(t){return e("form",{class:"FileUploadForm"},e("div",{class:"FileUploadForm__buttonContainer"},e(a,{class:"FileUploadForm__submitButton",type:"submit",onClick:function(e){e.preventDefault(),t.onConfirm()},"data-test-id":"FileUploadForm_submitButton"},"Upload")))}function f(t){var o=t.onConfirm,r=t.onCancel,i=t.file,a=_objectWithoutProperties(t,_excluded),l=_slicedToArray(n(null),2),d=l[0],f=l[1];return e("div",_objectSpread({class:"ImageUploadConfirm__container"},a),e(c,{onClick:function(){return r()}}),e("div",{class:"ImageUploadConfirm__controls"},e(u,{name:i.name,size:i.size,dimensions:d||void 0,modified:i.lastModified}),e(p,_objectSpread({},{onConfirm:o}))),e(s,{file:i,onLoad:f}))}function g(){var t=_slicedToArray(n(null),2),o=t[0],r=t[1],l=function(){return null!=window._handleUpload&&null!=o?window._handleUpload(o):window.alert("Unable to upload ".concat(null==o?void 0:o.name," to vault"))},c=["image/png","image/jpeg"],u=function(){return window._handleInvalidType?window._handleInvalidType("Only PNG and JPEG images are allowed!"):window.alert("Invalid file. Only PNG and JPEG images are allowed!")};return null!=o?e(i,{accept:c,onSelect:r,onInvalid:u,render:function(t){return e(f,_objectSpread(_objectSpread({},t),{},{file:o,onConfirm:l,onCancel:function(){return r(null)}}))}}):e(d,{accept:c,onSelect:function(e){return r(e)},onInvalid:u},e(a,{"data-test-id":"SearchButton",onClick:function(){return window._handleSearch?window._handleSearch():window.alert("Unable to show search dialog")}},"Search Existing..."))}if(window.arasArgs){var m=window.arasArgs;window._handleInvalidType=function(e){m.errorMessage(e)},window._handleSearch=function(){m.dialog.close(),m.search()},window._handleUpload=function(e){var t=m.upload(e);t&&!t.error?m.dialog.close():console.warn("error result from aras:",t)}}else console.warn("Global arasArgs not found. Running outside innovator dialog?");r(e(g,null),document.getElementById("app"))}}}));
